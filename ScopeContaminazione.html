<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width-device-width, initial-scale=1.0">
        <title>Secondo E Contaminazione</title>
    </head>
    <body>
        <h1>Scope e contaminazione JavaScript</h1>
    </body>
    <script>
        // Variabile globale
        let messaggio = "globale";
        
        // Funzione che dichiara una variabile locale con lo stesso nome della globale
        function mostraMessaggio() {
            let messaggio = "albero"; // Variabile locale
            console.log(messaggio);   // Stampa "albero"
        }
        
        console.log(messaggio); // Stampa "globale" (valore della variabile globale)
        mostraMessaggio();      // Chiama la funzione che stampa "albero"
        
        // Funzione auto-invocata (IIFE) con variabile locale
        (function() {
            let segreto = "12345";    // Variabile locale, visibile solo qui
            console.log(segreto);     // Stampa "12345"
        }) ();
        
        // Questo causerà un errore perché 'segreto' non è definito nello scope globale
        console.log(segreto);
    </script>
</html>